<html>
  <head>
    <title>Plotly.js Masters Workshop - Animation</title>
    <link rel="stylesheet" href="assets/styles.css">
    <link rel="stylesheet" href="assets/codemirror.css">
    <link rel="stylesheet" href="assets/neo.css">
    <link rel="stylesheet" href="assets/github-corner.css">
  <style type="text/css">.github-corner{display:block;position:absolute;top:0;left:auto;right:0;z-index:10000}.github-corner svg{display:block}.github-corner:hover .octo-arm{animation:octocat-wave 560ms ease-in-out}@keyframes octocat-wave{0%{transform:rotate(0)}20%{transform:rotate(-25deg)}40%{transform:rotate(10deg)}60%{transform:rotate(-25deg)}80%{transform:rotate(10deg)}100%{transform:rotate(0)}}@media(max-width:500px){.github-corner:hover .octo-arm{animation:none}.github-corner .octo-arm{animation:octocat-wave 560ms ease-in-out}}</style></head>
  <body><a href="http://rickyreusser.com/plotcon-2017-plotlyjs-animation-workshop/" class="github-corner" aria-label="View source on Github"><svg xmlns="http://www.w3.org/2000/svg" width="80" height="80" viewBox="0 0 250 250" fill="#fff">
  <path d="M0 0l115 115h15l12 27 108 108V0z" fill="#333"/>
  <path class="octo-arm" d="M128 109c-15-9-9-19-9-19 3-7 2-11 2-11-1-7 3-2 3-2 4 5 2 11 2 11-3 10 5 15 9 16" style="-webkit-transform-origin: 130px 106px; transform-origin: 130px 106px"/>
  <path class="octo-body" d="M115 115s4 2 5 0l14-14c3-2 6-3 8-3-8-11-15-24 2-41 5-5 10-7 16-7 1-2 3-7 12-11 0 0 5 3 7 16 4 2 8 5 12 9s7 8 9 12c14 3 17 7 17 7-4 8-9 11-11 11 0 6-2 11-7 16-16 16-30 10-41 2 0 3-1 7-5 11l-12 11c-1 1 1 5 1 5z"/>
</svg>
</a>
    <div id="slideshow"><section class="slide slide--markdown"><h1>Animation in plotly.js</h1>
<p>Ricky Reusser<br>
<small>Plotcon</small><br>
<small>May 4, 2017</small></p>
</section>
<section class="slide slide--markdown"><h3>Why plotly.js?</h3>
<p>Serializable!</p>
</section>
<section class="slide slide--code">
        <div class="pen">
          <div class="pen-jsContainer">
            <textarea class="pen-js">Plotly.plot(&apos;graph&apos;, [{
  x: [1, 2, 3],
  y: [2, 4, 3],
  line: {simplify: false}
}]).then(function () {
  Plotly.animate(&apos;graph&apos;, [{
    data: [{
      y: [3, 4, 2]
    }]
  }]);
});
</textarea>
          </div>
          <div class="pen-htmlContainer">
            <textarea class="pen-html">&lt;div id=&quot;graph&quot;&gt;&lt;/div&gt;</textarea>
          </div>
          <div class="pen-controls pen-controls--actions">
            <button class="pen-refresh">Refresh</button>
            <button class="pen-codepen">Edit on CodePen</button>
          </div>
          <div class="pen-controls pen-controls--tabs">
            <button class="pen-editJs">JS</button>
            <button class="pen-editHtml">HTML</button>
          </div>
        </div>
      </section>
<section class="slide slide--code">
        <div class="pen">
          <div class="pen-jsContainer">
            <textarea class="pen-js">Plotly.plot(&apos;graph&apos;, [{
  x: [1, 2, 3],
  y: [2, 4, 3],
  line: {simplify: false}
}]).then(function () {
  return Plotly.animate(&apos;graph&apos;, [{
    data: [{
      y: [3, 4, 2]
    }]
  }, {
    data: [{
      y: [4, 2, 3]
    }]
  }]);
});
</textarea>
          </div>
          <div class="pen-htmlContainer">
            <textarea class="pen-html">&lt;div id=&quot;graph&quot;&gt;&lt;/div&gt;</textarea>
          </div>
          <div class="pen-controls pen-controls--actions">
            <button class="pen-refresh">Refresh</button>
            <button class="pen-codepen">Edit on CodePen</button>
          </div>
          <div class="pen-controls pen-controls--tabs">
            <button class="pen-editJs">JS</button>
            <button class="pen-editHtml">HTML</button>
          </div>
        </div>
      </section>
<section class="slide slide--code">
        <div class="pen">
          <div class="pen-jsContainer">
            <textarea class="pen-js">var frame1 = {
  name: &apos;frame1&apos;,
  data: [{
    y: [3, 4, 2]
  }]
};

var frame2 = {
  name: &apos;frame2&apos;,
  data: [{
    y: [4, 2, 3]
  }]
};

Plotly.plot(&apos;graph&apos;, {
  data: [{
    x: [1, 2, 3],
    y: [2, 4, 3],
    line: {simplify: false}
  }],
  frames: [frame1, frame2]
}).then(function () {
  return Plotly.animate(&apos;graph&apos;,
    [&apos;frame1&apos;, &apos;frame2&apos;],
    {
      transition: {
        duration: 1000
      },
      frame: {
        duration: 2000,
        redraw: false
      }
    }
  );
});
</textarea>
          </div>
          <div class="pen-htmlContainer">
            <textarea class="pen-html">&lt;div id=&quot;graph&quot;&gt;&lt;/div&gt;</textarea>
          </div>
          <div class="pen-controls pen-controls--actions">
            <button class="pen-refresh">Refresh</button>
            <button class="pen-codepen">Edit on CodePen</button>
          </div>
          <div class="pen-controls pen-controls--tabs">
            <button class="pen-editJs">JS</button>
            <button class="pen-editHtml">HTML</button>
          </div>
        </div>
      </section>
<section class="slide slide--code">
        <div class="pen">
          <div class="pen-jsContainer">
            <textarea class="pen-js">function iotaArray(n) {
  var result = new Array(n)
  for(var i=0; i&lt;n; ++i) {
    result[i] = i
  }
  return result
}

var ntraces = 10;
var traces = [];
var npts = 200;
for (j = 0; j &lt; ntraces; j++) {
  var x = [0];
  var y = [0];
  for (var i = 1; i &lt; npts; i++) {
    x[i] = x[i - 1] + Math.random() - 0.5
    y[i] = y[i - 1] + Math.random() - 0.5
  }
  traces.push({
    x: x,
    y: y,
    showlegend: false,
    opacity: 0.5,
    line: {simplify: false},
    mode: &apos;lines&apos;,
    transforms: [{
      type: &apos;filter&apos;,
      target: iotaArray(npts),
      operation: &apos;&lt;&apos;,
      value: 1
    }]
  })
}

Plotly.plot(&apos;graph&apos;, traces, {
  xaxis: {
    scaleratio: 1,
    scaleanchor: &apos;y&apos;,
    range: [-6, 6]
  },
  yaxis: {
    range: [-6, 6]
  },
  width: window.innerWidth - 30,
  height: window.innerWidth - 30,
  sliders: [{
    steps: iotaArray(npts).map((i) =&gt; ({
      label: i,
      method: &apos;animate&apos;,
      args: [[{
        data: iotaArray(ntraces).map(() =&gt; ({
          &apos;transforms[0].value&apos;: i
        })),
        traces: iotaArray(ntraces)
      }], {
        transition: {duration: 0},
        frame: {duration: 0, redraw: false},
        mode: &apos;immediate&apos;
      }]
    }))
  }]
}, {
  scrollZoom: true
});
</textarea>
          </div>
          <div class="pen-htmlContainer">
            <textarea class="pen-html">&lt;div id=&quot;graph&quot;&gt;&lt;/div&gt;</textarea>
          </div>
          <div class="pen-controls pen-controls--actions">
            <button class="pen-refresh">Refresh</button>
            <button class="pen-codepen">Edit on CodePen</button>
          </div>
          <div class="pen-controls pen-controls--tabs">
            <button class="pen-editJs">JS</button>
            <button class="pen-editHtml">HTML</button>
          </div>
        </div>
      </section>
</div>
    <script src="assets/codemirror.js"></script>
    <script src="assets/javascript.js"></script>
    <script src="assets/htmlembedded.js"></script>
    <script src="assets/xml.js"></script>
    <script src="index.js"></script>
  </body>
</html>
